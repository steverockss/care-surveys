<!-- src/app/survey-wizard/survey-wizard.component.html -->
<div class="container mt-4">
    <!-- Título de la sección actual -->
    <h2 class="mb-3">{{ surveySections[currentStep].title }}</h2>
  
    <!-- Barra de progreso -->
    <div class="progress mb-4">

    </div>
  
    <!-- Formulario reactivo para la sección actual -->
    <form [formGroup]="surveyForm">
      <div *ngFor="let question of surveySections[currentStep].questions" class="mb-3">
        <label class="form-label">{{ question.label }}</label>
        <!-- Usamos ngSwitch para diferenciar el tipo de input -->
        <ng-container [ngSwitch]="question.type">
          <!-- Campo de texto -->
          <input
            *ngSwitchCase="'text'"
            [attr.type]="question.type"
            class="form-control"
            [formControlName]="question.controlName"
            [placeholder]="question.placeholder"
          >
          <!-- Campo numérico -->
          <input
            *ngSwitchCase="'number'"
            [attr.type]="question.type"
            class="form-control"
            [formControlName]="question.controlName"
            [placeholder]="question.placeholder"
          >
          <!-- Selector (select) -->
          <select
            *ngSwitchCase="'select'"
            class="form-select"
            [formControlName]="question.controlName"
          >
            <option *ngFor="let option of question.options" [value]="option">
              {{ option || 'Seleccione una opción' }}
            </option>
          </select>
          <div *ngIf="surveyForm.get(question.controlName)?.invalid && surveyForm.get(question.controlName)?.touched" class="text-danger">
            Este campo es obligatorio.
          </div>
          <!-- Campo checkbox (si llegas a necesitarlo) -->
          <div *ngSwitchCase="'checkbox'" class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              [formControlName]="question.controlName"
            >
            <label class="form-check-label">{{ question.label }}</label>
          </div>
        </ng-container>
      </div>
    </form>
  
    <!-- Botones de navegación -->
    <div class="d-flex justify-content-between">
      <button class="btn btn-secondary" (click)="previousStep()" [disabled]="currentStep === 0">
        Anterior
      </button>
      <button class="btn btn-primary" (click)="nextStep()" [disabled]="!isCurrentSectionValid()">
        {{ currentStep === surveySections.length - 1 ? 'Enviar' : 'Siguiente' }}
      </button>
    </div>
  </div>
  